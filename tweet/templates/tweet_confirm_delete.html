{% extends "layout.html" %}
{% load static %}
{% block title %}Social Nest - Delete Tweet{% endblock title %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-5">
            <!-- Delete Confirmation Card -->
            <div class="form-card text-center hover-effect">
                <!-- Warning Icon -->
                <div class="form-icon" style="background: rgba(245, 101, 101, 0.1);">
                    <i class="fas fa-exclamation-triangle fa-3x text-danger"></i>
                </div>
                
                <!-- Header -->
                <h3 class="fw-bold mb-3">Delete Tweet</h3>
                <p class="text-muted mb-4">
                    Are you sure you want to delete this tweet? This action cannot be undone.
                </p>

                <!-- Tweet Preview -->
                <div class="tweet-preview p-4 mb-4">
                    <div class="d-flex align-items-center mb-3">
                        <div class="avatar-circle me-3" style="width: 40px; height: 40px; font-size: 1rem;">
                            {{ tweet.user.username|first|upper }}
                        </div>
                        <div>
                            <h6 class="fw-bold mb-0">@{{ tweet.user.username }}</h6>
                            <small class="text-muted">{{ tweet.created_at|date:"M d, Y" }}</small>
                        </div>
                    </div>
                    <p class="card-text mb-0">{{ tweet.text|truncatechars:100 }}</p>
                    {% if tweet.photo %}
                    <div class="mt-3">
                        <img src="{{ tweet.photo.url }}" alt="Tweet image" class="img-thumbnail" style="max-height: 100px;">
                    </div>
                    {% endif %}
                </div>

                <!-- Delete Form -->
                <form method="POST">
                    {% csrf_token %}
                    <div class="d-flex gap-3">
                        <button type="submit" class="btn btn-danger flex-grow-1 py-3">
                            <i class="fas fa-trash-alt me-2"></i>Yes, Delete
                        </button>
                        <a href="{% url 'tweet_list' %}" class="btn btn-light flex-grow-1 py-3">
                            <i class="fas fa-times me-2"></i>Cancel
                        </a>
                    </div>
                </form>
            </div>

            <!-- Warning Note -->
            <div class="tips-card mt-4" style="background: rgba(245, 101, 101, 0.05);">
                <div class="d-flex align-items-start">
                    <i class="fas fa-info-circle text-danger me-3 mt-1"></i>
                    <div>
                        <h6 class="fw-bold mb-2">Important</h6>
                        <p class="small text-muted mb-0">
                            Deleting this tweet will permanently remove it from your profile and from all users' feeds. This action is irreversible.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Additional Delete-specific styles (can be added to external CSS too) -->
<style>
    .tweet-preview {
        background: var(--bg-light);
        border-radius: var(--radius-md);
        border: 1px solid var(--border-color);
    }
    
    .btn-danger {
        background: linear-gradient(135deg, #f56565 0%, #c53030 100%);
        border: none;
        border-radius: var(--radius-md);
        font-weight: 500;
        transition: var(--transition-base);
    }
    
    .btn-danger:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(245, 101, 101, 0.4);
    }
    
    @media (prefers-color-scheme: dark) {
        .btn-danger {
            background: linear-gradient(135deg, #fc8181 0%, #9b2c2c 100%);
        }
    }
</style>
{% endblock content %}